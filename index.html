<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Primary Meta Tags -->
  <title>Word Portrait Generator | Create Stunning Typography Art</title>
  <meta name="title" content="Word Portrait Generator | Create Stunning Typography Art" />
  <meta name="description"
    content="Transform your photos into beautiful word art portraits. Upload any image and watch it come alive with custom words, colors, and effects. Free online tool." />
  <meta name="keywords"
    content="word portrait, word art, typography, photo to text, word cloud, portrait generator, text art" />
  <meta name="author" content="Word Portrait Generator" />
  <meta name="robots" content="index, follow" />

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://wordportrait.app/" />
  <meta property="og:title" content="Word Portrait Generator | Create Stunning Typography Art" />
  <meta property="og:description"
    content="Transform your photos into beautiful word art portraits. Upload any image and watch it come alive with custom words." />
  <meta property="og:image" content="https://wordportrait.app/og-image.png" />

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://wordportrait.app/" />
  <meta property="twitter:title" content="Word Portrait Generator" />
  <meta property="twitter:description" content="Transform your photos into beautiful word art portraits." />
  <meta property="twitter:image" content="https://wordportrait.app/og-image.png" />

  <!-- Theme Color -->
  <meta name="theme-color" content="#764ba2" />
  <meta name="msapplication-TileColor" content="#764ba2" />

  <!-- Security -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff" />
  <meta http-equiv="X-Frame-Options" content="SAMEORIGIN" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet" />

  <!-- Preload critical assets -->
  <link rel="preload" as="font" type="font/woff2"
    href="https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJtEtq.woff2" crossorigin />
</head>

<body>
  <div id="app">
    <header>
      <div class="logo">WordPortrait<span class="dot">.</span></div>
      <p class="tagline">Turn faces into typography.</p>
    </header>

    <main class="workspace">
      <aside class="controls glass-panel">
        <div class="control-group">
          <label for="wordsInput">
            <span class="icon">abc</span> Word Dictionary
          </label>
          <textarea id="wordsInput" placeholder="Enter words separated by commas..."
            spellcheck="false">Love, Hope, Dream, Life, Art, Code, Future, Create, Vision, Soul</textarea>
          <div class="help-text">Words will form the shadows of individual features.</div>
        </div>

        <div class="control-group">
          <label for="heroWordsInput" style="color: #fbbf24;">
            <span class="icon">‚≠ê</span> Highlighted Words (Hero)
          </label>
          <textarea id="heroWordsInput" placeholder="Enter hero words (will appear BIGGER)..." spellcheck="false"
            style="border-color: rgba(251, 191, 36, 0.3);"></textarea>
          <div class="help-text" style="color: #a0a0a0;">These words will be prioritized for the largest text
            placements.</div>
        </div>

        <div class="control-group">
          <label>
            <span class="icon">üì∑</span> Source Image
          </label>
          <div class="file-drop-area" id="dropArea">
            <input type="file" id="imageUpload" accept="image/*" hidden>
            <button class="upload-btn" onclick="document.getElementById('imageUpload').click()">Choose Image</button>
            <span class="file-msg">or drop image here</span>
          </div>
          <div id="imageName" class="file-name hidden"></div>
        </div>

        <!-- Image Transform Controls -->
        <div class="control-group">
          <label>Image Scale</label>
          <div class="slider-container">
            <span class="lbl-min">Zoom Out</span>
            <input type="range" id="imageScaleInput" min="50" max="200" value="100" step="5">
            <span class="lbl-max">Zoom In</span>
          </div>
          <div class="help-text" id="scaleValue">Scale: 100%</div>
        </div>

        <div class="control-group">
          <label>Image Position</label>
          <div style="display: flex; flex-direction: column; gap: 8px;">
            <div class="slider-container">
              <span class="lbl-min">‚Üê Left</span>
              <input type="range" id="imageOffsetXInput" min="-500" max="500" value="0" step="10">
              <span class="lbl-max">Right ‚Üí</span>
            </div>
            <div class="slider-container">
              <span class="lbl-min">‚Üë Up</span>
              <input type="range" id="imageOffsetYInput" min="-500" max="500" value="0" step="10">
              <span class="lbl-max">Down ‚Üì</span>
            </div>
          </div>
          <div class="help-text" id="offsetValue">Offset: X=0, Y=0</div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <!-- IMAGE CUSTOMIZATION (Like WordArt.com) -->
        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="control-group image-customization-panel">
          <label style="display: flex; align-items: center; gap: 8px;">
            <span class="icon">üñºÔ∏è</span> Image Customization
            <button id="togglePreviewBtn" class="mini-btn"
              style="margin-left: auto; font-size: 0.7rem; padding: 4px 8px;">
              Show Preview
            </button>
          </label>

          <!-- Threshold Slider -->
          <div class="customize-row">
            <span class="customize-label">Threshold</span>
            <button class="adjust-btn" data-target="thresholdInput" data-delta="-5">‚àí</button>
            <div class="slider-container" style="flex: 1;">
              <input type="range" id="thresholdInput" min="0" max="100" value="44" step="1">
            </div>
            <span class="customize-value" id="thresholdValue">44%</span>
            <button class="adjust-btn" data-target="thresholdInput" data-delta="5">+</button>
          </div>

          <!-- Edges Slider -->
          <div class="customize-row">
            <span class="customize-label">Edges</span>
            <button class="adjust-btn" data-target="edgesInput" data-delta="-1">‚àí</button>
            <div class="slider-container" style="flex: 1;">
              <input type="range" id="edgesInput" min="0" max="10" value="2" step="1">
            </div>
            <span class="customize-value" id="edgesValue">2</span>
            <button class="adjust-btn" data-target="edgesInput" data-delta="1">+</button>
          </div>

          <!-- Negative Toggle -->
          <div class="customize-row" style="margin-top: 8px;">
            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; flex: 1;">
              <input type="checkbox" id="negativeToggle" style="width: 16px; height: 16px;">
              <span style="font-size: 0.85rem; color: #a0a0a0;">Negative</span>
            </label>
            <span style="font-size: 0.8rem; color: #666;">Color</span>
            <input type="color" id="negativeColor" value="#555555"
              style="height: 28px; width: 40px; cursor: pointer; margin-left: 8px;">
          </div>

          <!-- Margin Slider -->
          <div class="customize-row">
            <span class="customize-label">Margin</span>
            <button class="adjust-btn" data-target="marginInput" data-delta="-5">‚àí</button>
            <div class="slider-container" style="flex: 1;">
              <input type="range" id="marginInput" min="0" max="50" value="0" step="1">
            </div>
            <span class="customize-value" id="marginValue">0%</span>
            <button class="adjust-btn" data-target="marginInput" data-delta="5">+</button>
          </div>

          <!-- Live Preview Panel -->
          <div id="imagePreviewPanel" class="preview-panel hidden">
            <canvas id="previewCanvas" width="200" height="200"></canvas>
            <div class="preview-actions">
              <button id="showOriginalBtn" class="secondary-btn" style="font-size: 0.75rem; padding: 6px 12px;">
                Show original image
              </button>
            </div>
          </div>

          <div class="help-text" style="margin-top: 8px;">
            Adjust threshold to control what becomes white. Use edges for sharper contours.
          </div>
        </div>
        <!-- END IMAGE CUSTOMIZATION -->

        <!-- Hidden canvas for processing -->
        <canvas id="processingCanvas" style="display: none;"></canvas>

        <div class="control-group">
          <label>Word Density</label>
          <div class="slider-container">
            <span class="lbl-min">Sparse</span>
            <input type="range" id="densityInput" min="0" max="255" value="120" step="5">
            <span class="lbl-max">Dense</span>
          </div>
          <div class="help-text">Controls how many words fill the portrait.</div>
        </div>

        <div class="control-group">
          <label for="fontSizeInput">Font Scale</label>
          <div class="slider-container">
            <span class="lbl-min">Fine</span>
            <input type="range" id="fontSizeInput" min="10" max="80" value="24" step="1">
            <span class="lbl-max">Bold</span>
          </div>
        </div>

        <div class="control-group">
          <label>Color Mode</label>

          <!-- Single Color -->
          <label style="display: flex; align-items: center; gap: 8px; margin-top: 8px; cursor: pointer;">
            <input type="radio" name="colorMode" value="single" id="colorModeSingle" style="width: 16px; height: 16px;">
            <span style="font-size: 0.85rem; color: #a0a0a0;">Single Color</span>
            <input type="color" id="colorInput" value="#000000"
              style="height: 28px; width: 50px; cursor: pointer; margin-left: auto;">
          </label>

          <!-- Source Image Colors -->
          <label style="display: flex; align-items: center; gap: 8px; margin-top: 5px; cursor: pointer;">
            <input type="radio" name="colorMode" value="source" id="colorModeSource" style="width: 16px; height: 16px;"
              checked>
            <span style="font-size: 0.85rem; color: #a0a0a0;">Use Source Image Colors (Realistic)</span>
          </label>

          <!-- Random Colors -->
          <label style="display: flex; align-items: center; gap: 8px; margin-top: 5px; cursor: pointer;">
            <input type="radio" name="colorMode" value="random" id="colorModeRandom" style="width: 16px; height: 16px;">
            <span style="font-size: 0.85rem; color: #a0a0a0;">Mix Colors (Random)</span>
          </label>

          <!-- Custom Palette -->
          <label style="display: flex; align-items: center; gap: 8px; margin-top: 5px; cursor: pointer;">
            <input type="radio" name="colorMode" value="palette" id="colorModePalette"
              style="width: 16px; height: 16px;">
            <span style="font-size: 0.85rem; color: #a0a0a0;">Custom Palette</span>
          </label>
          <div id="customPaletteArea"
            style="display: none; margin-top: 8px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px;">
            <div id="paletteColorsContainer" style="display: flex; gap: 8px; flex-wrap: wrap; align-items: center;">
              <div class="palette-item" style="position: relative;">
                <input type="color" class="paletteColor" value="#ff0000"
                  style="height: 32px; width: 40px; cursor: pointer;">
                <button class="remove-color-btn"
                  style="position: absolute; top: -5px; right: -5px; width: 16px; height: 16px; border-radius: 50%; border: none; background: #ff4444; color: white; font-size: 10px; cursor: pointer; line-height: 1;">√ó</button>
              </div>
              <div class="palette-item" style="position: relative;">
                <input type="color" class="paletteColor" value="#0066ff"
                  style="height: 32px; width: 40px; cursor: pointer;">
                <button class="remove-color-btn"
                  style="position: absolute; top: -5px; right: -5px; width: 16px; height: 16px; border-radius: 50%; border: none; background: #ff4444; color: white; font-size: 10px; cursor: pointer; line-height: 1;">√ó</button>
              </div>
            </div>
            <button id="addPaletteColorBtn"
              style="margin-top: 8px; padding: 5px 10px; background: rgba(255,255,255,0.1); border: 1px dashed rgba(255,255,255,0.3); border-radius: 4px; color: #a0a0a0; cursor: pointer; font-size: 0.75rem;">+
              Add Color</button>
            <div class="help-text" style="margin-top: 5px;">Click on colors to change them. Remove any you don't need.
            </div>
          </div>
        </div>

        <div class="control-group">
          <label for="resolutionSelect">Output Resolution</label>
          <select id="resolutionSelect"
            style="width: 100%; padding: 10px; background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white; cursor: pointer;">
            <option value="1200x1800">4√ó6 inches (1200√ó1800) - Photo</option>
            <option value="2400x3600" selected>4√ó6 inches (2400√ó3600) - HQ Print</option>
            <option value="1800x2700">5√ó7.5 inches (1800√ó2700)</option>
            <option value="2400x3000">8√ó10 inches (2400√ó3000)</option>
            <option value="3000x4500">10√ó15 inches (3000√ó4500) - Poster</option>
            <option value="custom">Custom...</option>
          </select>
          <div id="customResolution" style="display: none; margin-top: 10px;">
            <div style="display: flex; gap: 10px;">
              <input type="number" id="customWidth" placeholder="Width (px)" value="2400" min="100" max="10000"
                style="flex:1; padding: 8px; background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: white;">
              <span style="color: #a0a0a0; align-self: center;">√ó</span>
              <input type="number" id="customHeight" placeholder="Height (px)" value="3600" min="100" max="10000"
                style="flex:1; padding: 8px; background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: white;">
            </div>
          </div>
        </div>

        <div class="control-group">
          <label>Presets</label>
          <button id="savePresetBtn" class="secondary-btn"
            style="width: 100%; font-size: 0.8rem; padding: 10px; margin-bottom: 8px;">
            üíæ Save Current Settings
          </button>

          <div style="display: flex; gap: 6px;">
            <select id="presetSelect"
              style="flex: 1; padding: 8px; background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: white;">
              <option value="">(No Preset Selected)</option>
            </select>
            <button id="loadPresetBtn" class="secondary-btn" style="padding: 8px 12px;" title="Load">üìÇ</button>
            <button id="deletePresetBtn" class="secondary-btn"
              style="padding: 8px 12px; border-color: #ff4444; color: #ff4444;" title="Delete">üóëÔ∏è</button>
          </div>
          <div id="presetDetails"
            style="font-size: 0.75rem; color: #a0a0a0; margin-top: 5px; min-height: 1.2em; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
            Select a preset to view details...
          </div>
        </div>

        <div class="actions">
          <button id="generateBtn" class="primary-btn pulse">
            <span class="btn-text">Generate Portrait</span>
          </button>
          <button id="downloadBtn" class="secondary-btn" disabled>
            <span class="icon">‚Üì</span> Download High-Res (PNG)
          </button>
        </div>
      </aside>

      <section class="preview-area">
        <div class="canvas-containment">
          <canvas id="mainCanvas"></canvas>
          <div id="emptyState" class="empty-state">
            <div class="icon-large">üé®</div>
            <h3>Ready to Create?</h3>
            <p>Upload a photo to begin.</p>
          </div>
          <div id="loadingIndicator" class="loading hidden">
            <div class="spinner"></div>
            <span>Processing...</span>
          </div>
        </div>
      </section>
    </main>
  </div>
  <script type="module" src="/src/main.js"></script>
</body>

</html>